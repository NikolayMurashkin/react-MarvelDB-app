"use strict";(self.webpackChunkmarvel=self.webpackChunkmarvel||[]).push([[997],{7341:function(e,a,r){var s=r(5671),c=r(3144),n=r(136),i=r(7277),t=r(2791),l=r(594),o=r(184),h=function(e){(0,n.Z)(r,e);var a=(0,i.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var c=arguments.length,n=new Array(c),i=0;i<c;i++)n[i]=arguments[i];return(e=a.call.apply(a,[this].concat(n))).state={error:!1},e}return(0,c.Z)(r,[{key:"componentDidCatch",value:function(e,a){this.setState({error:!0}),console.log(e),console.log(a)}},{key:"render",value:function(){return this.state.error?(0,o.jsx)(l.Z,{}):this.props.children}}]),r}(t.Component);a.Z=h},594:function(e,a,r){r.d(a,{Z:function(){return n}});var s=r.p+"static/media/error.42292aa12b6bc303ce99.gif",c=r(184),n=function(){return(0,c.jsx)("img",{className:"error",src:s,alt:"Error",style:{objectFit:"contain",width:"250px",heigth:"250px",margin:"0 auto",display:"block"}})}},6594:function(e,a,r){r.r(a),r.d(a,{default:function(){return w}});var s=r(885),c=r(2791),n=r(4197),i=r(594),t=r(4482),l=r(5660),o=r(6983),h=r.p+"static/media/mjolnir.61f31e1809f12183a524.png",d=r(184),m=function(e){var a=e.char,r=a.name,s=a.description,c=a.homepage,n=a.wiki,i=a.thumbnail,t=i.includes("image_not_available")||i.includes("4c002e0305708")?{objectFit:"fill"}:{objectFit:"cover"};return(0,d.jsxs)("div",{className:"randomchar__block",children:[(0,d.jsx)(l.Z,{component:null,appear:!0,children:(0,d.jsx)(o.Z,{timeout:500,classNames:"randomchar__img",children:(0,d.jsx)("img",{src:i,alt:r,className:"randomchar__img",style:t})})}),(0,d.jsxs)("div",{className:"randomchar__info",children:[(0,d.jsx)("p",{className:"randomchar__name",children:r}),(0,d.jsx)("p",{className:"randomchar__descr",children:s}),(0,d.jsxs)("div",{className:"randomchar__btns",children:[(0,d.jsx)("a",{href:c,className:"button button__main",children:(0,d.jsx)("div",{className:"inner",children:"homepage"})}),(0,d.jsx)("a",{href:n,className:"button button__secondary",children:(0,d.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]})},u=function(){var e=(0,c.useState)(null),a=(0,s.Z)(e,2),r=a[0],l=a[1],o=(0,t.Z)(),u=o.error,_=o.loading,j=o.getCharacter,x=o.clearError;(0,c.useEffect)((function(){v()}),[]);var v=function(){x();var e=Math.round(400*Math.random()+1011e3);j(e).then(f)},f=function(e){l(e)},N=u?(0,d.jsx)(i.Z,{}):null,b=_?(0,d.jsx)(n.Z,{}):null,p=u||_||!r?null:(0,d.jsx)(m,{char:r});return(0,d.jsxs)("div",{className:"randomchar",children:[N,b,p,(0,d.jsxs)("div",{className:"randomchar__static",children:[(0,d.jsxs)("p",{className:"randomchar__title",children:["Random character for today!",(0,d.jsx)("br",{}),"Do you want to get to know him better?"]}),(0,d.jsx)("p",{className:"randomchar__title",children:"Or choose another one"}),(0,d.jsx)("button",{onClick:v,className:"button button__main",children:(0,d.jsx)("div",{className:"inner",children:"try it"})}),(0,d.jsx)("img",{src:h,alt:"mjolnir",className:"randomchar__decoration"})]})]})},_=r(2982),j=r(1694),x=r.n(j),v=function(e){var a=e.img,r=e.name,s=a.includes("image_not_available")||a.includes("4c002e0305708")?{objectFit:"fill"}:{objectFit:"cover"};return(0,d.jsxs)("li",{tabIndex:0,onFocus:function(a){return function(a){e.onFocus(a),e.onCharSelected(e.id)}(a)},className:x()("char__item"),children:[(0,d.jsx)("img",{src:a,alt:r,style:s}),(0,d.jsx)("div",{className:"char__name",children:r})]},e.id)},f=function(e){var a=(0,c.useRef)(null),r=function(e){a.current&&a.current.classList.remove("char__item_selected");var r=e.target.closest(".char__item");a.current=r,a.current.classList.add("char__item_selected")},s=e.chars,n=e.onCharSelected;return(0,d.jsx)(l.Z,{component:"ul",appear:!0,className:"char__grid",children:s.map((function(e,a){return(0,d.jsx)(o.Z,{timeout:0,classNames:"charListItem",children:(0,d.jsx)(v,{onFocus:r,onCharSelected:n,id:e.id,name:e.name,img:e.thumbnail},a)},a)}))})},N=function(e){var a=(0,c.useState)([]),r=(0,s.Z)(a,2),l=r[0],o=r[1],h=(0,c.useState)(!1),m=(0,s.Z)(h,2),u=m[0],j=m[1],x=(0,c.useState)(520),v=(0,s.Z)(x,2),N=v[0],b=v[1],p=(0,c.useState)(!1),g=(0,s.Z)(p,2),Z=g[0],k=g[1],y=(0,t.Z)(),C=y.error,S=y.clearError,F=y.loading,w=y.getAllCharacters;(0,c.useEffect)((function(){I()}),[]);var E=function(e){var a=!1;e.length<9&&(a=!0),o((function(a){return[].concat((0,_.Z)(a),(0,_.Z)(e))})),j(!1),b((function(e){return e+9})),k(a)},I=function(e){S(),j(!0),w(e).then(E)},T=C?(0,d.jsx)(i.Z,{}):null,R=F&&!u?(0,d.jsx)(n.Z,{}):null,D=(0,d.jsx)(f,{chars:l,onCharSelected:e.onCharSelected});return(0,d.jsxs)("div",{className:"char__list",children:[T,R,D,(0,d.jsx)("button",{disabled:u,onClick:function(){return I(N)},style:{display:Z?"none":"block"},className:"button button__main button__long",children:(0,d.jsx)("div",{className:"inner",children:u?"data is loading":"load more"})})]})},b=r(7341),p=function(){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("p",{className:"char__select",children:"Please select a character to see information"}),(0,d.jsxs)("div",{className:"skeleton",children:[(0,d.jsxs)("div",{className:"pulse skeleton__header",children:[(0,d.jsx)("div",{className:"pulse skeleton__circle"}),(0,d.jsx)("div",{className:"pulse skeleton__mini"})]}),(0,d.jsx)("div",{className:"pulse skeleton__block"}),(0,d.jsx)("div",{className:"pulse skeleton__block"}),(0,d.jsx)("div",{className:"pulse skeleton__block"})]})]})},g=r(3504),Z=function(e){var a=e.char,r=a.name,s=a.description,c=a.homepage,n=a.wiki,i=a.thumbnail,t=a.comics,h=a.thumbnail.includes("image_not_available")||a.thumbnail.includes("4c002e0305708")?{objectFit:"fill"}:{objectFit:"cover"};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"char__basics",children:[(0,d.jsx)("img",{src:i,alt:r,style:h}),(0,d.jsxs)("div",{children:[(0,d.jsx)("div",{className:"char__info-name",children:r}),(0,d.jsxs)("div",{className:"char__btns",children:[(0,d.jsx)("a",{href:c,className:"button button__main",children:(0,d.jsx)("div",{className:"inner",children:"homepage"})}),(0,d.jsx)("a",{href:n,className:"button button__secondary",children:(0,d.jsx)("div",{className:"inner",children:"Wiki"})})]})]})]}),(0,d.jsx)("div",{className:"char__descr",children:s}),(0,d.jsx)("h3",{className:"char__comics",children:"Comics:"}),(0,d.jsxs)(l.Z,{component:"ul",appear:!0,className:"char__comics-list",children:[t.length>0?null:"There is no comics with this character",t.map((function(e,a){var r=e.resourceURI.replace(/\D/g,"").slice(1);if(!(a>9))return(0,d.jsx)(o.Z,{timeout:0,classNames:"char__comics-item",children:(0,d.jsx)("li",{className:"char__comics-item",children:(0,d.jsx)(g.rU,{to:"/comics/".concat(r),children:e.name})},a)},a)}))]})]})},k=function(e){var a=(0,c.useState)(0),r=(0,s.Z)(a,2),l=r[0],o=r[1],h=(0,t.Z)(),m=h.error,u=h.clearError,_=h.loading,j=h.getCharacter;(0,c.useEffect)((function(){v()}),[e.charId]);var x=function(e){o(e)},v=function(){u();var a=e.charId;a&&j(a).then(x)},f=l||_||m?null:(0,d.jsx)(p,{}),N=m?(0,d.jsx)(i.Z,{}):null,b=_&&l?(0,d.jsx)(n.Z,{}):null,g=m||_||!l?null:(0,d.jsx)(Z,{char:l});return(0,d.jsxs)("div",{className:"char__info",children:[f,N,b,g]})},y=r.p+"static/media/vision.067d4ae1936d64a577ce.png",C=r(5705),S=r(132),F=function(){var e=(0,c.useState)(null),a=(0,s.Z)(e,2),r=a[0],n=a[1],l=(0,t.Z)(),o=l.loading,h=l.error,m=l.getCharacterByName,u=l.clearError,_=function(e){n(e)},j=h?(0,d.jsx)("div",{className:"char__search-critical-error",children:(0,d.jsx)(i.Z,{})}):null,x=r?r.length>0?(0,d.jsxs)("div",{className:"char__search-wrapper",children:[(0,d.jsxs)("div",{className:"char__search-success",children:["There is! Visit ",r[0].name," page?"]}),(0,d.jsx)(g.rU,{to:"/characters/".concat(r[0].id),className:"button button__secondary",children:(0,d.jsx)("div",{className:"inner",children:"To page"})})]}):(0,d.jsx)("div",{className:"char__search-error",children:"The character was not found. Check the name and try again"}):null;return(0,d.jsxs)("div",{className:"char__search-form",children:[(0,d.jsx)(C.J9,{initialValues:{charName:""},validationSchema:S.Ry({charName:S.Z_().required("This field is required")}),onSubmit:function(e){var a,r=e.charName;a=r,u(),m(a).then(_)},children:(0,d.jsxs)(C.l0,{children:[(0,d.jsx)("label",{className:"char__search-label",htmlFor:"charName",children:"Or find a character by name:"}),(0,d.jsxs)("div",{className:"char__search-wrapper",children:[(0,d.jsx)(C.gN,{id:"charName",name:"charName",type:"text",placeholder:"Enter name"}),(0,d.jsx)("button",{type:"submit",className:"button button__main",disabled:o,children:(0,d.jsx)("div",{className:"inner",children:"find"})})]}),(0,d.jsx)(C.Bc,{component:"div",className:"char__search-error",name:"charName"})]})}),x,j]})},w=function(){var e=(0,c.useState)(0),a=(0,s.Z)(e,2),r=a[0],n=a[1];return(0,d.jsx)("div",{children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(b.Z,{children:(0,d.jsx)(u,{})}),(0,d.jsxs)("div",{className:"char",children:[(0,d.jsx)(b.Z,{children:(0,d.jsx)(N,{onCharSelected:function(e){n(e)}})}),(0,d.jsxs)("div",{children:[(0,d.jsx)(b.Z,{children:(0,d.jsx)(k,{charId:r})}),(0,d.jsx)(b.Z,{children:(0,d.jsx)(F,{})})]})]}),(0,d.jsx)("img",{className:"bg-decoration",src:y,alt:"vision"})]})})}}}]);
//# sourceMappingURL=997.8a38a490.chunk.js.map